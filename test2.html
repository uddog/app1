<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>
    <style>
  
    </style>
</head>

<body>

    <!-- Back arrow button -->
    <a href="index.html" id="backButton">&#8592;</a>

    <div class="profile-section" id="profileSection"></div>

    <script>
        async function fetchProfileData() {
            const csvUrl = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vT5yPBQL7OkwisJJ6Dq4jpzATrchx3wbyxQQ09mH0BoPrTFr8FYnKxkT7xjvWB8P51Gled65w6S8VQH/pub?output=csv&gid=0';

            try {
                const response = await fetch(csvUrl);
                const data = await response.text();
                const rows = data.split('\n').map(row => row.split(','));

                const profileSection = document.getElementById("profileSection");

                // Start from index 1 to skip the header row
                rows.slice(1).forEach(row => {
                    const profileDiv = document.createElement("div");
                    profileDiv.classList.add("profile");

                    // Column E contains the image URL for profile background
                    const imageURL = row[4] ? row[4].trim() : ''; // Check if the value is truthy
                    if (imageURL !== '') {
                        profileDiv.style.backgroundImage = `url(${imageURL})`;
                    }

                    // Column F contains additional profile details
                    const profileDetails = document.createElement("p");
                    profileDetails.textContent = row[5] ? row[5].trim() : ''; // Check if the value is truthy
                    profileDiv.appendChild(profileDetails);

                    profileSection.appendChild(profileDiv);
                });
            } catch (error) {
                console.error('Error fetching profile data:', error);
            }
        }
        // Call the function to fetch and display profile data
        fetchProfileData();
    </script>

</body>

</html>
